(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,n){e.exports={modal:"User_modal__3tf-6",text:"User_text__2_9AO",close:"User_close__2kDzZ",form:"User_form__Cvrgm"}},23:function(e,t,n){e.exports={container:"MyRoom_container__3G26N",my_table:"MyRoom_my_table__6Mtfq",my_head:"MyRoom_my_head__bYx1D"}},24:function(e,t,n){e.exports={list:"NavBar_list__ZcGdd",list__item:"NavBar_list__item__3RjTi",header:"NavBar_header__1OKgI"}},27:function(e,t,n){e.exports={sidenav:"sideBar_sidenav__2Yc2t",sidelink:"sideBar_sidelink__23TOb"}},32:function(e,t,n){e.exports={form:"Comment_form__6RGIN"}},33:function(e,t,n){e.exports={form:"post_form__yiIOP",container:"post_container__2Lv68"}},34:function(e,t,n){e.exports={dashboard:"Dashboard_dashboard__32kja",postCont:"Dashboard_postCont__1BYA_",loadMore:"Dashboard_loadMore__2DfN_"}},35:function(e,t,n){e.exports={post:"S_Page_post__3eDr1",author:"S_Page_author__19DfC",post_text:"S_Page_post_text__2SVuj"}},36:function(e,t,n){e.exports={article:"Comment_article__1rPAQ",text:"Comment_text__2_JG3",author:"Comment_author__2tL_5"}},38:function(e,t,n){e.exports={Post:"Post_Post__DM03s",_link:"Post__link__1NMPM"}},40:function(e,t,n){e.exports={container:"SinglePageCon_container__3pdaZ",comments:"SinglePageCon_comments__2akIu"}},50:function(e,t,n){e.exports={Input:"InputR_Input__Rawfk"}},51:function(e,t,n){e.exports={searchForm:"SearchBar_searchForm__3D_Mu"}},53:function(e,t,n){e.exports={styles:"NotFound_styles__WsA4d"}},55:function(e,t,n){e.exports={Input:"TextareaR_Input__2_M4y"}},58:function(e,t,n){e.exports=n(96)},72:function(e,t,n){},74:function(e,t,n){},80:function(e,t,n){e.exports=n.p+"static/media/spinner.d4f3e818.gif"},96:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"LOGIN_SUCCESS",function(){return A}),n.d(r,"LOGOUT_SUCCESS",function(){return M}),n.d(r,"login",function(){return B}),n.d(r,"logout",function(){return I});var a=n(0),o=n.n(a),c=n(28),s=n.n(c),i=n(3),u=n(16),l=n(42),m=n(5),p=n(2),d=n.n(p),h=n(4);function f(e){return e?new Headers({"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer ".concat(e)}):new Headers({"Content-type":"application/json; charset=UTF-8"})}var b=function(){var e=Object(h.a)(d.a.mark(function e(t,n){var r,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("/api/").concat(t),n);case 2:if((r=e.sent).ok){e.next=6;break}return a=Object.assign({},{status:r.status,statusText:r.statusText}),e.abrupt("return",Promise.reject(a));case 6:return e.abrupt("return",r.json());case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),E={fetchPosts:function(e){return b("posts/?skip=".concat(e,"&limit=50"))}},v={fetchPosts:function(e,t){return b("posts/?skip=".concat(e,"&limit=50&search=").concat(t))}},y={fetchPost:function(e){return Promise.all([b("posts/".concat(e)),b("comments/?postId=".concat(e))])}},_={fetchPost:function(e,t){var n={method:"POST",body:e,headers:f(t)};return b("posts",n)}},g={fetchComment:function(e,t){var n={method:"POST",body:e,headers:f(t)};return b("comments",n)}},O={fetchPost:function(e){var t={method:"GET",headers:f(e)};return b("posts/userposts",t)}},j={fetchPost:function(e){var t={method:"GET",headers:f(e)};return b("comments/usercomments",t)}},S=function(e){return b("posts/".concat(e),{method:"DELETE"})},C=function(e){return b("comments/".concat(e),{method:"DELETE"})},k={fetchPost:function(e,t,n){var r={method:"PATCH",body:t,headers:f(n)};return b("posts/".concat(e),r)}},P={fetchPost:function(e,t,n){var r={method:"PATCH",body:t,headers:f(n)};return b("comments/".concat(e),r)}},w="FETCH_ALL_ITEMS",x="FETCH_ALL_ITEMS_SUCCESS",N="FETCH_ALL_ITEMS_ERROR";function F(e){return function(t){t({type:w}),E.fetchPosts(e).then(function(e){return t(function(e){var t=e.post;return{type:x,payload:T(t)}}(e))}).catch(function(e){return t({type:N,errors:e})})}}function R(e){return e.map(function(e){return{id:e._id,name:e.name,title:e.title,body:e.description,receivedAt:e.createdAt.slice(0,10),createdBy:e.createdBy}})}function T(e){return 50===e.length?{posts:R(e),showLoadButton:!0}:e.length<50?{posts:R(e),showLoadButton:!1}:void 0}var L={posts:[],isFetching:!1,showLoadButton:!0,errors:""};var A="LOGIN_SUCCESS",M="LOGOUT_SUCCESS";function B(e){return{type:A,payload:{name:e.name,token:e.token,isLogged:!0}}}function I(){return{type:M}}var U={name:"Guest",isLogged:!1,token:null,error:""};var D="FETCH_SEARCH_ITEMS",H="FETCH_SEARCH_ITEMS_SUCCESS",V="FETCH_SEARCH_ITEMS_ERROR",G="RESET_STATE";function Y(e,t){return function(n){n({type:D}),v.fetchPosts(e,t).then(function(e){return n(function(e){var t=e.post;return{type:H,payload:W(t)}}(e))}).catch(function(e){return n({type:V,errors:e})})}}function J(e){return e.map(function(e){return{id:e._id,name:e.name,title:e.title,body:e.description,receivedAt:e.createdAt.slice(0,10),createdBy:e.createdBy}})}function W(e){return 50===e.length?{posts:J(e),showLoadButton:!0}:e.length<50?{posts:J(e),showLoadButton:!1}:void 0}var Z={posts:[],isFetching:!1,showLoadButton:!0,errors:""};function X(e,t){var n=e.concat(t),r=[];return n.filter(function(e){return r.findIndex(function(t){return t.id===e.id})<=-1&&r.push(e),null}),r}var q="FETCH_USER_POSTS",z="FETCH_USER_POSTS_SUCCESS",$="FETCH_USER_POSTS_ERROR";function K(e){return function(t){t({type:q}),O.fetchPost(e).then(function(e){return t(function(e){var t=e.post;return{type:z,payload:Q(t)}}(e))}).catch(function(e){return t({type:$,errors:e})})}}function Q(e){return e.map(function(e){return{id:e._id,name:e.name,title:e.title,body:e.description,receivedAt:e.createdAt.slice(0,10),createdBy:e.createdBy}})}var ee={userPosts:[],isFetching:!1,errors:""};var te="FETCH_USER_COMMENTS",ne="FETCH_USER_COMMENTS_SUCCESS",re="FETCH_USER_COMMENTS_ERROR";function ae(e){return function(t){t({type:te}),j.fetchPost(e).then(function(e){return t(function(e){var t=e.comment;return{type:ne,payload:t}}(e))}).catch(function(e){return t({type:re,errors:e})})}}var oe={userComments:[],isFetching:!1,errors:""};var ce=n(56),se="FETCH_COMMENTS_BY_ID",ie="FETCH_COMMENTS_BY_ID_SUCCESS",ue="FETCH_COMMENTS_BY_ID_ERROR";function le(e){return function(t){t({type:se}),y.fetchPost(e).then(function(e){var n=Object(ce.a)(e,2),r=n[0],a=n[1];return t(function(e,t){return{type:ie,payload:e,payload2:t}}(r.post,a.comment))}).catch(function(e){return t({type:ue,errors:e})})}}var me={post:{},comments:[],isFetching:!1,errors:""};var pe=Object(u.combineReducers)({page:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(m.a)({},e,{isFetching:!0,showLoadButton:!0,errors:""});case x:return Object(m.a)({},e,{posts:[].concat(Object(l.a)(e.posts),Object(l.a)(t.payload.posts)),showLoadButton:t.payload.showLoadButton,isFetching:!1,errors:""});case N:return Object(m.a)({},e,{isFetching:!1,errors:t.errors});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(m.a)({},e,{name:t.payload.name,isLogged:t.payload.isLogged,token:t.payload.token,error:""});case M:return Object(m.a)({},e,{isLogged:!1,name:"Guest",token:null,error:""});default:return e}},postById:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se:return Object(m.a)({},e,{isFetching:!0,errors:""});case ie:return Object(m.a)({},e,{comments:t.payload2,post:t.payload,isFetching:!1});case ue:return Object(m.a)({},e,{isFetching:!1,errors:t.errors});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(m.a)({},e,{isFetching:!0,showLoadButton:!0,errors:""});case H:return Object(m.a)({},e,{posts:X(e.posts,t.payload.posts),showLoadButton:t.payload.showLoadButton,isFetching:!1,errors:""});case V:return Object(m.a)({},e,{isFetching:!1,errors:t.errors});case G:return Object(m.a)({},e,{posts:[],isFetching:!0,showLoadButton:!0,errors:""});default:return e}},userPosts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(m.a)({},e,{isFetching:!0,errors:""});case z:return Object(m.a)({},e,{userPosts:t.payload,isFetching:!1,errors:""});case $:return Object(m.a)({},e,{isFetching:!1,errors:t.errors});case M:return Object(m.a)({},e,{userPosts:[],isFetching:!1,errors:""});default:return e}},userComments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return Object(m.a)({},e,{isFetching:!0,errors:""});case ne:return Object(m.a)({},e,{userComments:t.payload,isFetching:!1,errors:""});case re:return Object(m.a)({},e,{isFetching:!1,errors:t.errors});case M:return Object(m.a)({},e,{userComments:[],isFetching:!1,errors:""});default:return e}}}),de=n(46),he=n(41),fe=n(47),be=n.n(fe),Ee=n(48),ve=[de.a],ye={key:"root",storage:be.a,whitelist:["user"]},_e=Object(he.a)(ye,pe),ge=function(){var e=Object(u.createStore)(_e,Object(Ee.composeWithDevTools)(u.applyMiddleware.apply(void 0,ve)));return{store:e,persistor:Object(he.b)(e)}},Oe=n(49),je=(n(72),n(7)),Se=n(8),Ce=n(11),ke=n(9),Pe=n(10),we=(n(74),n(102)),xe=n(92),Ne=n(50),Fe=n.n(Ne),Re=function(e){var t=e.input,n=e.label,r=e.meta;return o.a.createElement("div",{className:Fe.a.Input},o.a.createElement("label",null,n),o.a.createElement("input",Object.assign({},t,{type:"text",placeholder:t.name})),r.error&&r.touched&&o.a.createElement("span",null,r.error))},Te=n(6),Le=n(51),Ae=n.n(Le),Me=function(e){return o.a.createElement(Te.b,{onSubmit:e.onSubmit,render:function(e){var t=e.handleSubmit,n=e.submitting;return e.pristine,o.a.createElement("form",{className:Ae.a.searchForm,onSubmit:t},o.a.createElement(Te.a,{name:"Search",placeholder:"Search for..."},Re),o.a.createElement("button",{type:"submit",disabled:n},"Search"))}})},Be=n(79),Ie=n(38),Ue=n.n(Ie),De=function(e){var t=e.data,n=t.id,r=t.name,a=t.title,c=t.receivedAt;return o.a.createElement("div",{className:Ue.a.Post},o.a.createElement("h3",null,o.a.createElement("i",null,"Name: ")," ",r),o.a.createElement(Be.a,{className:Ue.a._link,to:"/".concat(n)},a),o.a.createElement("p",null,c))},He=function(){return o.a.createElement("img",{src:n(80),alt:"Loading...",height:"100"})},Ve=n(34),Ge=n.n(Ve),Ye=function(e){return o.a.createElement("div",{className:Ge.a.dashboard},o.a.createElement("div",{className:Ge.a.postCont},function(){var t=e.data,n=e.isFetching;return e.error?o.a.createElement("p",{className:"error"},"An error occurred while loading!"):n?o.a.createElement(He,null):t.length?t.map(function(e){return o.a.createElement(De,{key:e.id,data:e})}):o.a.createElement("p",null,"Unfortunately there are no posts ...")}()),o.a.createElement("div",null,e.isVisible&&o.a.createElement("button",{className:Ge.a.loadMore,onClick:e.loadMore,href:"#readmore"},"Load more...")," "))},Je=n(20),We=Object(Je.b)({componentDidMount:function(){var e=Object(h.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return 0,e.next=3,this.props.getPostsActions(0);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}),Ze=Object(Je.a)(Object(i.b)(function(e){return{page:e.page}},function(e){return{getPostsActions:function(t){e(function(e){return function(t,n){if(function(e,t){var n=e.page.posts;return 0===n.length||n.length<=t||(n.isFetching,!1)}(n(),e))return t(F(e))}}(t))}}}),We)(function(e){var t=e.page.posts,n=e.page;return o.a.createElement("div",null,o.a.createElement("h1",{className:"App"},"Notice Board"),o.a.createElement(Me,{onSubmit:function(t){e.history.push({pathname:"/search/".concat(t.Search)})}}),o.a.createElement(Ye,{data:t,isFetching:n.isFetching,error:n.errors,loadMore:function(){var t=e.page.posts.length;e.getPostsActions(t)},isVisible:n.showLoadButton}))}),Xe=Object(Je.b)({componentDidMount:function(){var e=Object(h.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.resetStateAction();case 2:return 0,t=this.props.match.params.search,e.next=6,this.props.getSearchActions(0,t);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}),qe=Object(Je.a)(Object(i.b)(function(e){return{search:e.search}},function(e){return{getSearchActions:function(t,n){e(Y(t,n))},resetStateAction:function(){e({type:G})}}}),Xe)(function(e){var t=e.search.posts,n=e.search;return o.a.createElement("div",null,o.a.createElement("h1",{className:"App"},"Search Result:"),o.a.createElement(Ye,{data:t,isFetching:n.isFetching,error:n.errors,loadMore:function(){var t=e.search.posts.length,n=e.match.params.search;e.getSearchActions(t,n)},isVisible:n.showLoadButton}))}),ze=n(17),$e=n(18),Ke=n.n($e),Qe=function(e){return e||"number"===typeof e?void 0:"Required"},et=function(e){return function(t){return t&&t.length>e?"Must be ".concat(e," characters or less"):void 0}},tt=(et(15),et(200)),nt=function(e){return function(t){return t&&t.length<e?"Must be ".concat(e," characters or more"):void 0}},rt=nt(6),at=nt(2),ot=nt(20),ct=function(e){return e&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)?"Invalid email address":void 0},st=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce(function(t,n){return t||n(e)},void 0)}},it=function(e){function t(){return Object(je.a)(this,t),Object(Ce.a)(this,Object(ke.a)(t).apply(this,arguments))}return Object(Pe.a)(t,e),Object(Se.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:Ke.a.modal},o.a.createElement("button",{className:Ke.a.close,onClick:this.props.handleClose},"X"),o.a.createElement("p",{className:Ke.a.text},"Hello !"),o.a.createElement("p",{className:Ke.a.text},"Please enter your username and password!"),o.a.createElement(Te.b,{onSubmit:this.props.handleSubmit,render:function(e){var t=e.handleSubmit,n=e.reset,r=e.submitting,a=e.pristine,c=e.submitError;return o.a.createElement("form",{className:Ke.a.form,onSubmit:t},o.a.createElement(Te.a,{name:"email",validate:st(ct,Qe)},Re),o.a.createElement(Te.a,{name:"password",validate:st(Qe,rt)},Re),o.a.createElement("div",null,o.a.createElement("button",{type:"submit",disabled:r},"Submit"),o.a.createElement("button",{type:"button",onClick:n,disabled:r||a},"Reset"),c&&o.a.createElement("div",null,c)))}}),o.a.createElement(Be.a,{to:"/registration"},"Sign up..."))}}]),t}(o.a.Component),ut=document.getElementById("modal-root"),lt=function(e){function t(e){var n;return Object(je.a)(this,t),(n=Object(Ce.a)(this,Object(ke.a)(t).call(this,e))).el=document.createElement("div"),n}return Object(Pe.a)(t,e),Object(Se.a)(t,[{key:"componentDidMount",value:function(){ut.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){ut.removeChild(this.el)}},{key:"render",value:function(){return s.a.createPortal(this.props.children,this.el)}}]),t}(o.a.Component),mt=function(e){function t(){return Object(je.a)(this,t),Object(Ce.a)(this,Object(ke.a)(t).apply(this,arguments))}return Object(Pe.a)(t,e),Object(Se.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:Ke.a.modal},o.a.createElement("button",{className:Ke.a.close,onClick:this.props.handleClose},"X"),o.a.createElement("p",null,"Go out?"),o.a.createElement("button",{onClick:this.props.handleLogout},"Exit"),o.a.createElement("div",null," ",this.props.ERRORS.error&&"Server Error"))}}]),t}(o.a.Component),pt=n(12),dt=function(){var e=Object(h.a)(d.a.mark(function e(t,n){var r,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("api/users").concat(t),n);case 2:if((r=e.sent).ok){e.next=6;break}return a=Object.assign({},{status:r.status,statusText:r.statusText}),e.abrupt("return",Promise.reject(a));case 6:return e.abrupt("return",r.json());case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),ht={fetchPost:function(e){var t={method:"POST",body:e,headers:f()};return dt("/sign-up",t)}},ft={fetchPost:function(e){var t={method:"POST",body:e,headers:f()};return dt("/sign-in",t)}},bt=function(e){var t={method:"POST",headers:f(e)};return dt("/sign-out",t)},Et=Object(i.b)(function(e){return{user:e.user}},function(e){return{actions:Object(u.bindActionCreators)(r,e)}})(function(e){function t(){return(t=Object(h.a)(d.a.mark(function t(n,r){var a,o,c,s;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.location.state||{from:{pathname:"/"}},o=a.from,c=JSON.stringify({email:n.email,password:n.password}),t.prev=2,t.next=5,ft.fetchPost(c);case 5:return s=t.sent,t.next=8,e.actions.login({name:s.user.name,token:s.token});case 8:return t.abrupt("return",(r.reset(),e.history.push(o)));case 11:return t.prev=11,t.t0=t.catch(2),t.abrupt("return",Object(ze.a)({},pt.a,"Wrong Name or Password!"));case 14:case"end":return t.stop()}},t,this,[[2,11]])}))).apply(this,arguments)}var n=function(){e.history.replace({pathname:"/"})},r=function(){var t=Object(h.a)(d.a.mark(function t(n){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,bt(e.user.token);case 4:return t.next=6,e.actions.logout();case 6:return t.abrupt("return",e.history.replace({pathname:"/"}));case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",c(t.t0));case 12:case"end":return t.stop()}},t,this,[[1,9]])}));return function(e){return t.apply(this,arguments)}}(),a={},c=function(e){if(e)return a={error:e}};return o.a.createElement(lt,null,!1===e.user.isLogged?o.a.createElement(it,{handleSubmit:function(e,n){return t.apply(this,arguments)},handleClose:n}):o.a.createElement(mt,{handleClose:n,handleLogout:r,ERRORS:a}))}),vt=n(84),yt=n(53),_t=n.n(yt),gt=Object(vt.a)(function(e){var t=e.location;return o.a.createElement("div",{className:_t.a.styles},o.a.createElement("h1",null,"Error 404"),o.a.createElement("div",null,"Sorry, page"," ",o.a.createElement("p",null,o.a.createElement("strong",null,t.pathname))," ","was not found!"))}),Ot=n(35),jt=n.n(Ot),St=function(e){if(null===e.data)return o.a.createElement("div",null,"Unfortunately there are no post!");var t=e.data,n=t.name,r=t.title,a=t.description;return o.a.createElement("table",null,o.a.createElement("tbody",null,o.a.createElement("tr",{className:jt.a.post},o.a.createElement("td",{className:jt.a.author},"Author:",o.a.createElement("br",null),o.a.createElement("b",null," ",n),o.a.createElement("br",null),function(){var t=e.data.createdAt;if(t)return t.slice(0,10)+" "+t.slice(11,16)}()),o.a.createElement("td",{className:jt.a.post_text},o.a.createElement("b",null,"Theme:"),o.a.createElement("p",null,r),o.a.createElement("b",null,"Description:")," ",o.a.createElement("p",null,a)))))},Ct=n(36),kt=n.n(Ct),Pt=function(e){var t=e.data,n=t.name,r=t.email,a=t.description,c=t.createdAt;return o.a.createElement("div",{className:kt.a.article},o.a.createElement("div",{className:kt.a.author},o.a.createElement("h6",null,"Author: ",o.a.createElement("b",null,n),o.a.createElement("br",null),"Date: ",o.a.createElement("b",null,function(){if(c)return c.slice(0,10)+" "+c.slice(11,16)}()),o.a.createElement("br",null),"e-mail: ",r)),o.a.createElement("div",null,o.a.createElement("p",{className:kt.a.text},a)))},wt=n(55),xt=n.n(wt),Nt=function(e){var t=e.input,n=e.label,r=e.meta;return o.a.createElement("div",{className:xt.a.Input},o.a.createElement("label",null,n),o.a.createElement("textarea",Object.assign({},t,{type:"text",placeholder:t.name})),r.error&&r.touched&&o.a.createElement("span",null,r.error))},Ft=n(32),Rt=n.n(Ft),Tt=function(e){return o.a.createElement(Te.b,{onSubmit:e.onSubmit,render:function(e){var t=e.handleSubmit,n=e.reset,r=e.submitting,a=e.pristine,c=e.submitError,s=e.submitSucceeded;return o.a.createElement("form",{className:Rt.a.form,onSubmit:t},o.a.createElement(Te.a,{name:"email",label:"E-mail",validate:st(Qe,ct)},Re),o.a.createElement(Te.a,{name:"body",label:"Post",validate:Qe},Nt),o.a.createElement("div",null,o.a.createElement("button",{type:"submit",disabled:r},"Submit"),o.a.createElement("button",{type:"button",onClick:n,disabled:r||a},"Reset")),c&&o.a.createElement("div",null,c),s&&o.a.createElement("div",null,o.a.createElement("span",null,"Your comment has been sent!")))}})},Lt=Object(i.b)(function(e){return{token:e.user.token,name:e.user.name}})(function(e){var t=e.id,n=e.name,r=e.token;function a(){return(a=Object(h.a)(d.a.mark(function e(a,o){var c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=JSON.stringify({postId:t,name:n,email:a.email,description:a.body}),e.prev=1,e.next=4,g.fetchComment(c,r);case 4:return e.abrupt("return",o.reset());case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",Object(ze.a)({},pt.a,e.t0));case 10:case"end":return e.stop()}},e,this,[[1,7]])}))).apply(this,arguments)}return o.a.createElement(Tt,{onSubmit:function(e,t){return a.apply(this,arguments)}})}),At=n(98),Mt=n(40),Bt=n.n(Mt),It=Object(Je.b)({componentDidMount:function(){var e=Object(h.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getPostById(this.props.match.params.id);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}),Ut=Object(Je.a)(Object(i.b)(function(e){return{dataById:e.postById,isLogged:e.user.isLogged}},function(e){return{getPostById:function(t){e(le(t))}}}),At.a,It)(function(e){var t=e.dataById,n=t.post,r=t.errors,a=e.isLogged,c=e.match.params.id;return o.a.createElement("div",null," ",r?o.a.createElement(gt,null):o.a.createElement("div",{className:Bt.a.container},o.a.createElement("h2",null,"Post"),o.a.createElement("hr",null),o.a.createElement(St,{data:n}),o.a.createElement("h3",null,"Comments:"),o.a.createElement("hr",null),o.a.createElement("div",{className:Bt.a.comments},function(){var t=e.dataById,n=t.comments,r=t.isFetching;return t.errors?o.a.createElement("p",{className:"error"},"An error occurred while loading!"):r?o.a.createElement(He,null):n.length?n.map(function(e){return o.a.createElement(Pt,{key:e._id,data:e})}):o.a.createElement("p",null,"Unfortunately there are no post!")}()),o.a.createElement("p",null,o.a.createElement("b",null,"Your comment:")," "),!0===a?o.a.createElement(Lt,{id:c}):o.a.createElement("p",null,"Please log in for post your comment!!!")))}),Dt=function(e){return o.a.createElement("div",{className:Ke.a.modal},o.a.createElement("button",{className:Ke.a.close,onClick:e.handleClose},"X"),o.a.createElement("p",{className:Ke.a.text},"Please enter your details!"),o.a.createElement(Te.b,{onSubmit:e.handleSubmit,render:function(e){var t=e.handleSubmit,n=e.reset,r=e.submitting,a=e.pristine,c=e.submitError,s=e.submitSucceeded;return o.a.createElement("form",{className:Ke.a.form,onSubmit:t},o.a.createElement(Te.a,{name:"login",label:"Name",validate:st(Qe,at)},Re),o.a.createElement(Te.a,{name:"password",label:"Password",validate:st(Qe,rt)},Re),o.a.createElement(Te.a,{name:"email",label:"Email",validate:st(ct,Qe)},Re),o.a.createElement("div",null,o.a.createElement("button",{type:"submit",disabled:r},"Submit"),o.a.createElement("button",{type:"button",onClick:n,disabled:r||a},"Reset")),c&&o.a.createElement("div",null,c),s&&o.a.createElement("div",null,o.a.createElement("span",null,"Registration has been successful!")))}}))},Ht=Object(i.b)(function(e){return{user:e.user}},function(e){return{Login:function(t){e(B(t))}}})(function(e){function t(){return(t=Object(h.a)(d.a.mark(function t(n,r){var a,o,c,s;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.location.state||{from:{pathname:"/"}},o=a.from,t.prev=1,c=JSON.stringify({name:n.login,email:n.email,password:n.password}),t.next=5,ht.fetchPost(c);case 5:return s=t.sent,t.next=8,e.Login({name:s.user.name,token:s.token});case 8:return t.abrupt("return",(r.reset(),e.history.push(o)));case 11:return t.prev=11,t.t0=t.catch(1),t.abrupt("return",Object(ze.a)({},pt.a,"User already exist!"));case 14:case"end":return t.stop()}},t,this,[[1,11]])}))).apply(this,arguments)}return o.a.createElement(lt,null,o.a.createElement(Dt,{handleSubmit:function(e,n){return t.apply(this,arguments)},handleClose:function(){e.history.replace({pathname:"/"})}}))}),Vt=n(100),Gt=n(33),Yt=function(e){return o.a.createElement(Te.b,{onSubmit:e.onSubmit,initialValues:e.initialValues,render:function(e){var t=e.handleSubmit,n=(e.values,e.reset),r=e.submitting,a=e.pristine,c=e.submitError,s=e.submitSucceeded;return o.a.createElement("form",{className:Gt.form,onSubmit:t},o.a.createElement(Te.a,{name:"title",label:"Theme",validate:st(Qe,tt,ot)},Re),o.a.createElement(Te.a,{name:"description",label:"Post",validate:Qe},Nt),o.a.createElement("div",null,o.a.createElement("button",{type:"submit",disabled:r},"Submit"),o.a.createElement("button",{type:"button",onClick:n,disabled:r||a},"Reset")),c&&o.a.createElement("div",null,c),s&&o.a.createElement("div",null,o.a.createElement("span",null,"Your post has been sent!")))}})},Jt=Object(i.b)(function(e){return{token:e.user.token,name:e.user.name}})(function(e){var t=e.name,n=e.token;function r(){return(r=Object(h.a)(d.a.mark(function e(r,a){var o;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=JSON.stringify({name:t,title:r.title,description:r.description}),e.prev=1,e.next=4,_.fetchPost(o,n);case 4:return e.abrupt("return",a.reset());case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",Object(ze.a)({},pt.a,e.t0));case 10:case"end":return e.stop()}},e,this,[[1,7]])}))).apply(this,arguments)}return o.a.createElement("div",{className:Gt.container},o.a.createElement("h4",null,"Write your own post..."),o.a.createElement(Yt,{onSubmit:function(e,t){return r.apply(this,arguments)}}))}),Wt=n(21),Zt=n(99),Xt=function(e){var t=e.data,n=t.id,r=t.title,a=t.receivedAt,c=function(){var e=Object(h.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();return o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement(Be.a,{to:"/".concat(n)},r)),o.a.createElement("td",null,a),o.a.createElement("td",null,o.a.createElement(Zt.a,{to:"/myroom/uppost/".concat(n)},"Update")),o.a.createElement("td",null,o.a.createElement(Zt.a,{to:"/myroom/post",onClick:c},"Remove")))},qt=n(23),zt=function(e){function t(){var e;return Object(je.a)(this,t),(e=Object(Ce.a)(this,Object(ke.a)(t).call(this))).RenderPosts=function(){var t=e.props.userPosts.userPosts;return t.length?t.map(function(e){return o.a.createElement(Xt,{key:e.id,data:e})}):o.a.createElement("tr",null,o.a.createElement("td",null,"Unfortunately there are no posts ..."))},e.RenderPosts=e.RenderPosts.bind(Object(Wt.a)(Object(Wt.a)(e))),e}return Object(Pe.a)(t,e),Object(Se.a)(t,[{key:"componentDidMount",value:function(){this.props.getUserPosts(this.props.token)}},{key:"render",value:function(){var e=this.props.userPosts,t=e.isFetching,n=e.errors;return o.a.createElement("div",{className:qt.container},n&&o.a.createElement("p",null,"An error occurred while loading!"),!0===t&&o.a.createElement(He,null),o.a.createElement("table",{className:qt.my_table},o.a.createElement("thead",{className:qt.my_head},o.a.createElement("tr",null,o.a.createElement("th",null,"Post"),o.a.createElement("th",null,"Date"),o.a.createElement("th",null,""),o.a.createElement("th",null,""))),o.a.createElement("tbody",null,this.RenderPosts())))}}]),t}(o.a.Component),$t=Object(i.b)(function(e){return{userPosts:e.userPosts,token:e.user.token}},function(e){return{getUserPosts:function(t){e(function(e){return function(t,n){if(!n().userPosts.isFetching)return t(K(e))}}(t))}}})(zt),Kt=function(e){var t=e.data,n=t._id,r=t.description,a=t.createdAt,c=function(){var e=Object(h.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();return o.a.createElement("tr",null,o.a.createElement("td",null,r),o.a.createElement("td",null,function(){if(a)return a.slice(0,10)}()),o.a.createElement("td",null,o.a.createElement(Zt.a,{to:"/myroom/upcomment/".concat(n)},"Update")),o.a.createElement("td",null,o.a.createElement(Zt.a,{to:"/myroom/comments",onClick:c},"Remove")))},Qt=function(e){function t(){var e;return Object(je.a)(this,t),(e=Object(Ce.a)(this,Object(ke.a)(t).call(this))).RenderPosts=function(){var t=e.props.userComments.userComments;return t.length?t.map(function(e){return o.a.createElement(Kt,{key:e._id,data:e})}):o.a.createElement("tr",null,o.a.createElement("td",null,"Unfortunately there are no posts ..."))},e.RenderPosts=e.RenderPosts.bind(Object(Wt.a)(Object(Wt.a)(e))),e}return Object(Pe.a)(t,e),Object(Se.a)(t,[{key:"componentDidMount",value:function(){this.props.getUserComments(this.props.token)}},{key:"render",value:function(){var e=this.props.userComments,t=e.errors,n=e.isFetching;return o.a.createElement("div",{className:qt.container},t&&o.a.createElement("p",null,"An error occurred while loading!"),!0===n&&o.a.createElement(He,null),o.a.createElement("table",{className:qt.my_table},o.a.createElement("thead",{className:qt.my_head},o.a.createElement("tr",null,o.a.createElement("th",null,"Comment"),o.a.createElement("th",null,"Date"),o.a.createElement("th",null,""),o.a.createElement("th",null,""))),o.a.createElement("tbody",null,this.RenderPosts())))}}]),t}(o.a.Component),en=Object(i.b)(function(e){return{userComments:e.userComments,token:e.user.token}},function(e){return{getUserComments:function(t){e(function(e){return function(t,n){if(!n().userComments.isFetching)return t(ae(e))}}(t))}}})(Qt),tn=function(e){function t(){var e,n;Object(je.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(Ce.a)(this,(e=Object(ke.a)(t)).call.apply(e,[this].concat(a)))).state={initialValues:{}},n.submitForm=function(){var e=Object(h.a)(d.a.mark(function e(t){var r,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props.match.params.id,a=JSON.stringify({title:t.title,description:t.description}),e.prev=2,e.next=5,k.fetchPost(r,a);case 5:return e.abrupt("return",n.props.history.push("/myroom/posts"));case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",Object(ze.a)({},pt.a,"Error occurred during update"));case 11:case"end":return e.stop()}},e,this,[[2,8]])}));return function(t){return e.apply(this,arguments)}}(),n}return Object(Pe.a)(t,e),Object(Se.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id,t=this.props.userPosts.find(function(t){return t.id===e});this.setState({initialValues:{title:t.title,description:t.body}})}},{key:"render",value:function(){return o.a.createElement(Yt,{onSubmit:this.submitForm.bind(this),initialValues:this.state.initialValues})}}]),t}(o.a.Component),nn=Object(i.b)(function(e){return{userPosts:e.userPosts.userPosts}})(tn),rn=function(e){return o.a.createElement(Te.b,{onSubmit:e.onSubmit,initialValues:e.initialValues,render:function(e){var t=e.handleSubmit,n=(e.values,e.reset),r=e.submitting,a=e.pristine,c=e.submitError,s=e.submitSucceeded;return o.a.createElement("form",{className:Rt.a.form,onSubmit:t},o.a.createElement(Te.a,{name:"description",label:"Post",validate:Qe},Nt),o.a.createElement("div",null,o.a.createElement("button",{type:"submit",disabled:r},"Submit"),o.a.createElement("button",{type:"button",onClick:n,disabled:r||a},"Reset")),c&&o.a.createElement("div",null,c),s&&o.a.createElement("div",null,o.a.createElement("span",null,"Your comment has been sent!")))}})},an=function(e){function t(){var e,n;Object(je.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(Ce.a)(this,(e=Object(ke.a)(t)).call.apply(e,[this].concat(a)))).state={initialValues:{}},n.submitForm=function(){var e=Object(h.a)(d.a.mark(function e(t){var r,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props.match.params.id,a=JSON.stringify({description:t.description}),e.prev=2,e.next=5,P.fetchPost(r,a);case 5:return e.abrupt("return",n.props.history.push("/myroom/comments"));case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",Object(ze.a)({},pt.a,"Error occurred during update"));case 11:case"end":return e.stop()}},e,this,[[2,8]])}));return function(t){return e.apply(this,arguments)}}(),n}return Object(Pe.a)(t,e),Object(Se.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id,t=this.props.userComments.find(function(t){return t._id===e});this.setState({initialValues:{description:t.description}})}},{key:"render",value:function(){return o.a.createElement(rn,{onSubmit:this.submitForm.bind(this),initialValues:this.state.initialValues})}}]),t}(o.a.Component),on=Object(i.b)(function(e){return{userComments:e.userComments.userComments}})(an),cn=function(){return o.a.createElement(we.a,null,o.a.createElement(Vt.a,{exact:!0,from:"/myroom",to:"/myroom/posts"}),o.a.createElement(xe.a,{exact:!0,path:"/myroom/posts",component:$t}),o.a.createElement(xe.a,{path:"/myroom/comments",component:en}),o.a.createElement(xe.a,{path:"/myroom/addpost",component:Jt}),o.a.createElement(xe.a,{path:"/myroom/uppost/:id",component:nn}),o.a.createElement(xe.a,{path:"/myroom/upcomment/:id",component:on}))},sn=n(27),un=function(e){return o.a.createElement("div",{className:sn.sidenav},o.a.createElement(Be.a,{className:sn.sidelink,to:"/myroom/posts"},"My posts"),o.a.createElement(Be.a,{className:sn.sidelink,to:"/myroom/comments"},"My comments"," "),o.a.createElement(Be.a,{className:sn.sidelink,to:"/myroom/addpost"},"New Post"))},ln=function(e){function t(){return Object(je.a)(this,t),Object(Ce.a)(this,Object(ke.a)(t).apply(this,arguments))}return Object(Pe.a)(t,e),Object(Se.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(un,null),o.a.createElement(cn,null))}}]),t}(a.Component),mn=n(97);function pn(e){var t=function(t){function n(){return Object(je.a)(this,n),Object(Ce.a)(this,Object(ke.a)(n).apply(this,arguments))}return Object(Pe.a)(n,t),Object(Se.a)(n,[{key:"render",value:function(){return o.a.createElement("div",null,!0===this.props.user.isLogged?o.a.createElement(e,this.props):o.a.createElement(mn.a,{to:{pathname:"/login",state:{from:this.props.location}}}))}}]),n}(o.a.Component);return Object(i.b)(function(e){return{user:e.user}})(t)}var dn=function(){return o.a.createElement(we.a,null,o.a.createElement(xe.a,{exact:!0,path:"/",component:Ze}),o.a.createElement(xe.a,{path:"/login",component:Et}),o.a.createElement(xe.a,{path:"/myroom",component:pn(ln)}),o.a.createElement(xe.a,{exact:!0,path:"/registration",component:Ht}),o.a.createElement(xe.a,{exact:!0,path:"/:id",component:Ut}),o.a.createElement(xe.a,{exact:!0,path:"/search/:search",component:qe}),o.a.createElement(xe.a,{path:"*",component:gt}))},hn=n(24),fn=n.n(hn);var bn=Object(i.b)(function(e){return{isLogged:e.user.isLogged,name:e.user.name}})(function(e){var t=e.isLogged,n=e.name;return o.a.createElement("nav",{className:fn.a.header},o.a.createElement("ul",{className:fn.a.list},o.a.createElement("li",{className:fn.a.list__item},o.a.createElement("h4",null,"Hello ",n,"  "," ")),o.a.createElement("li",{className:fn.a.list__item},o.a.createElement(Zt.a,{to:"/"},o.a.createElement("span",null,"Dashboard"))),o.a.createElement("li",{className:fn.a.list__item},o.a.createElement(Zt.a,{to:"/myroom"},o.a.createElement("span",null,"My room"))),o.a.createElement("li",{className:fn.a.list__item},o.a.createElement(Zt.a,{to:"/login"},o.a.createElement("span",null,!1===t?"Log In":"Log Out"," "))),o.a.createElement("li",{className:fn.a.list__item},o.a.createElement(Zt.a,{to:"/registration"},o.a.createElement("span",null,"Sign up ")))))}),En=function(e){function t(){return Object(je.a)(this,t),Object(Ce.a)(this,Object(ke.a)(t).apply(this,arguments))}return Object(Pe.a)(t,e),Object(Se.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(bn,null),o.a.createElement(dn,null))}}]),t}(a.Component),vn=n(101);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var yn=ge(),_n=yn.store,gn=yn.persistor;s.a.render(o.a.createElement(i.a,{store:_n},o.a.createElement(Oe.a,{loading:"null",persistor:gn},o.a.createElement(vn.a,null,o.a.createElement(En,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[58,2,1]]]);
//# sourceMappingURL=main.16f83957.chunk.js.map